@model PassportGenerationSystem.Models.Application

@{
    ViewData["Title"] = "DetailsApplication";
}
@{
    Layout = "~/Views/Shared/UserLayout.cshtml";
}

<style>
    h1, .row {
        padding-left: 60px;
    }

    .form-group {
        padding-bottom: 20px;
    }

</style>

<h1>DetailsApplication</h1>

<div>

    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.AppID)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.AppID)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.FirstName)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.FirstName)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.LastName)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.LastName)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.DateOfBirth)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.DateOfBirth)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Gender)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Gender)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.PhoneNumber)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.PhoneNumber)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Email)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Email)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Address)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Address)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Nationality)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Nationality)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.State)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.State)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.City)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.City)
        </dd>
        <dt class="col-sm-2">Photo</dt>
        <dd class="col-sm-10">
            @if (!string.IsNullOrEmpty(Model.PhotoBase64))
            {
                <img src="data:image/png;base64,@Model.PhotoBase64" alt="Photo" style="max-width: 150px; max-height: 150px;" />
            }
            else
            {
                <p>No photo available.</p>
            }
        </dd>

        <dt class="col-sm-2">Document</dt>
        <dd class="col-sm-10">
            @if (!string.IsNullOrEmpty(Model.DocumentBase64))
            {
                <a href="data:application/pdf;base64,@Model.DocumentBase64" download="Resume.pdf" class="btn btn-success">Download Document</a>
            }
            else
            {
                <p>No document available.</p>
            }
        </dd>

        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.GuardianName)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.GuardianName)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.MaritalStatus)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.MaritalStatus)
        </dd>
        <div>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Status)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Status)
            </dd>

            <dt class="col-sm-2">Download Passport</dt>
            <dd class="col-sm-10">
                @if (Model.Status == "Approved")
                {
                    <a asp-action="DownloadPassport" asp-route-id="@Model.AppID" class="btn btn-success">Download Passport</a>
                }
                else
                {
                    <p>Passport is not available. Application status must be "Approved".</p>
                }
            </dd>
        </div>

       
       
    </dl>
</div>
